{"version":3,"sources":["webpack:///./src/views/permis/Role.vue?ee79","webpack:///src/views/permis/Role.vue","webpack:///./src/views/permis/Role.vue?0059","webpack:///./src/views/permis/Role.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","tableData","scopedSlots","_u","key","fn","ref","row","on","form","Object","assign","$refs","menuListRef","setCheckedKeys","role","visible","_v","slot","id","$event","resetFields","nativeOn","preventDefault","required","message","model","value","callback","$$v","$set","expression","menuList","label","submitForm","staticRenderFns","defaultForm","roleName","description","name","then","data","methods","validate","valid","getCheckedKeys","console","log","component"],"mappings":"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","file":"js/role.7e80e779.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"Id\",\"align\":\"center\",\"width\":\"220\"}}),_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\",\"align\":\"center\",\"width\":\"220\"}}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"备注\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function () {\n              _vm.form = Object.assign({}, row);\n              _vm.$refs.menuListRef &&\n                _vm.$refs.menuListRef.setCheckedKeys(_vm.form.role);\n              _vm.visible = true;\n            }}},[_vm._v(\" 编 辑 \")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"}},[_vm._v(\" 删 除 \")])]}}])},[_c('template',{slot:\"header\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-document-add\"},on:{\"click\":function () {\n              _vm.$refs.menuListRef && _vm.$refs.menuListRef.setCheckedKeys([]);\n              _vm.visible = true;\n            }}},[_vm._v(\" 新 增 \")])],1)],2)],1),_c('el-dialog',{attrs:{\"visible\":_vm.visible,\"title\":_vm.form.id ? '编辑' : '新增'},on:{\"update:visible\":function($event){_vm.visible=$event},\"closed\":_vm.resetFields}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\",\"label-suffix\":\":\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\",\"rules\":[{ required: true, message: '角色名称是必填项！' }]}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.roleName),callback:function ($$v) {_vm.$set(_vm.form, \"roleName\", $$v)},expression:\"form.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"maxlength\":\"200\",\"show-word-limit\":\"\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"权限配置\",\"required\":\"\"}},[_c('el-tree',{ref:\"menuListRef\",staticStyle:{\"border\":\"1px solid #DCDFE6\",\"border-radius\":\"4px\"},attrs:{\"data\":_vm.menuList,\"show-checkbox\":\"\",\"node-key\":\"id\",\"check-on-click-node\":\"\",\"props\":{\n            label: 'title',\n          }}})],1)],1),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-table :data=\"tableData\" border style=\"width: 100%\">\n      <el-table-column prop=\"id\" label=\"Id\" align=\"center\" width=\"220\">\n      </el-table-column>\n      <el-table-column\n        prop=\"roleName\"\n        label=\"角色名称\"\n        align=\"center\"\n        width=\"220\"\n      >\n      </el-table-column>\n      <el-table-column prop=\"description\" label=\"备注\"> </el-table-column>\n      <el-table-column label=\"操作\" width=\"150\">\n        <template slot=\"header\">\n          <el-button\n            size=\"small\"\n            type=\"primary\"\n            icon=\"el-icon-document-add\"\n            @click=\"\n              () => {\n                $refs.menuListRef && $refs.menuListRef.setCheckedKeys([]);\n                visible = true;\n              }\n            \"\n          >\n            新 增\n          </el-button>\n        </template>\n        <template slot-scope=\"{ row }\">\n          <el-button\n            size=\"small\"\n            type=\"primary\"\n            @click=\"\n              () => {\n                form = { ...row };\n                $refs.menuListRef &&\n                  $refs.menuListRef.setCheckedKeys(form.role);\n                visible = true;\n              }\n            \"\n          >\n            编 辑\n          </el-button>\n          <el-button type=\"danger\" size=\"small\">\n            删 除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog\n      :visible.sync=\"visible\"\n      :title=\"form.id ? '编辑' : '新增'\"\n      @closed=\"resetFields\"\n    >\n      <el-form\n        ref=\"form\"\n        :model=\"form\"\n        label-width=\"100px\"\n        label-suffix=\":\"\n        @submit.native.prevent\n      >\n        <el-form-item\n          label=\"角色名称\"\n          prop=\"roleName\"\n          :rules=\"[{ required: true, message: '角色名称是必填项！' }]\"\n        >\n          <el-input v-model=\"form.roleName\" clearable />\n        </el-form-item>\n        <el-form-item label=\"备注\">\n          <el-input\n            v-model=\"form.description\"\n            type=\"textarea\"\n            :rows=\"4\"\n            maxlength=\"200\"\n            show-word-limit\n          />\n        </el-form-item>\n\n        <el-form-item label=\"权限配置\" required>\n          <el-tree\n            ref=\"menuListRef\"\n            :data=\"menuList\"\n            show-checkbox\n            node-key=\"id\"\n            check-on-click-node\n            :props=\"{\n              label: 'title',\n            }\"\n            style=\"border: 1px solid #DCDFE6;border-radius:4px;\"\n          >\n          </el-tree>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\">\n        <el-button @click=\"visible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { getMenuList, getRoleList } from \"@/api/permis\";\n\nconst defaultForm = {\n  id: \"\",\n  roleName: \"\",\n  description: \"\",\n  role: [],\n};\n\nexport default {\n  name: \"Role\",\n  data() {\n    return {\n      menuList: [],\n      tableData: [],\n      visible: false,\n      form: { ...defaultForm },\n    };\n  },\n  created() {\n    getMenuList().then((value) => (this.menuList = value.data.data || []));\n    getRoleList().then((value) => (this.tableData = value.data.data || []));\n  },\n  methods: {\n    // 提交表单\n    submitForm() {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.form.role = this.$refs.menuListRef.getCheckedKeys();\n          console.log(this.form);\n        }\n      });\n    },\n    // 重置表单\n    resetFields() {\n      this.$refs.form.resetFields();\n      this.form = { ...defaultForm };\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=18ca154e&\"\nimport script from \"./Role.vue?vue&type=script&lang=js&\"\nexport * from \"./Role.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}